"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[475],{6234:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>d,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"apis/check-status","title":"Check Status","description":"Check the status of a research conversation to monitor its progress.","source":"@site/docs/apis/check-status.md","sourceDirName":"apis","slug":"/apis/check-status","permalink":"/docs/apis/check-status","draft":false,"unlisted":false,"editUrl":"https://github.com/fay-work/fay-docs/tree/main/docs/apis/check-status.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Create Conversation","permalink":"/docs/apis/create-conversation"},"next":{"title":"Stop Conversation","permalink":"/docs/apis/stop-conversation"}}');var r=n(4848),i=n(8453);const d={},a="Check Status",l={},c=[{value:"Endpoint",id:"endpoint",level:2},{value:"Request Headers",id:"request-headers",level:2},{value:"Path Parameters",id:"path-parameters",level:2},{value:"Example Request",id:"example-request",level:3},{value:"Response",id:"response",level:2},{value:"Success Response (200 OK)",id:"success-response-200-ok",level:3},{value:"Pending Status",id:"pending-status",level:4},{value:"Completed Status",id:"completed-status",level:4},{value:"Failed Status",id:"failed-status",level:4},{value:"Error Responses",id:"error-responses",level:3},{value:"404 Not Found",id:"404-not-found",level:4},{value:"401 Unauthorized",id:"401-unauthorized",level:4},{value:"Response Fields",id:"response-fields",level:2},{value:"Status Values",id:"status-values",level:2},{value:"Polling Strategy",id:"polling-strategy",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Polling Intervals",id:"polling-intervals",level:3},{value:"Error Handling",id:"error-handling",level:3},{value:"Rate Limits",id:"rate-limits",level:2},{value:"Next Steps",id:"next-steps",level:2},{value:"Related Endpoints",id:"related-endpoints",level:2}];function o(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"check-status",children:"Check Status"})}),"\n",(0,r.jsx)(s.p,{children:"Check the status of a research conversation to monitor its progress."}),"\n",(0,r.jsx)(s.h2,{id:"endpoint",children:"Endpoint"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"GET /api/v1/conversation/{request_id}/status\n"})}),"\n",(0,r.jsx)(s.h2,{id:"request-headers",children:"Request Headers"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Header"}),(0,r.jsx)(s.th,{children:"Type"}),(0,r.jsx)(s.th,{children:"Required"}),(0,r.jsx)(s.th,{children:"Description"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"Authorization"})}),(0,r.jsx)(s.td,{children:"string"}),(0,r.jsx)(s.td,{children:"Yes"}),(0,r.jsx)(s.td,{children:"Bearer token for authentication"})]})})]}),"\n",(0,r.jsx)(s.h2,{id:"path-parameters",children:"Path Parameters"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Parameter"}),(0,r.jsx)(s.th,{children:"Type"}),(0,r.jsx)(s.th,{children:"Required"}),(0,r.jsx)(s.th,{children:"Description"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"request_id"})}),(0,r.jsx)(s.td,{children:"string"}),(0,r.jsx)(s.td,{children:"Yes"}),(0,r.jsx)(s.td,{children:"The request ID returned from create conversation"})]})})]}),"\n",(0,r.jsx)(s.h3,{id:"example-request",children:"Example Request"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'curl -X GET https://api.fay.work/api/v1/conversation/e0a05c59-a5d7-44f3-8d5e-9e535e4db957/status \\\n  -H "Authorization: Bearer YOUR_API_KEY"\n'})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-javascript",children:"const requestId = 'e0a05c59-a5d7-44f3-8d5e-9e535e4db957';\nconst response = await fetch(`https://api.fay.work/api/v1/conversation/${requestId}/status`, {\n  headers: {\n    'Authorization': 'Bearer YOUR_API_KEY'\n  }\n});\n"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"import requests\n\nrequest_id = 'e0a05c59-a5d7-44f3-8d5e-9e535e4db957'\nheaders = {\n    'Authorization': 'Bearer YOUR_API_KEY'\n}\n\nresponse = requests.get(f'https://api.fay.work/api/v1/conversation/{request_id}/status', \n                       headers=headers)\n"})}),"\n",(0,r.jsx)(s.h2,{id:"response",children:"Response"}),"\n",(0,r.jsx)(s.h3,{id:"success-response-200-ok",children:"Success Response (200 OK)"}),"\n",(0,r.jsx)(s.h4,{id:"pending-status",children:"Pending Status"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "status": true,\n  "version": "1.0.24",\n  "data": {\n    "request_id": "e0a05c59-a5d7-44f3-8d5e-9e535e4db957",\n    "status": "PENDING",\n    "prompt": "Curate me a list of companies building AI agents in book editing / writing sector.",\n    "structured_output": false,\n    "output_schema": null,\n    "conversation_id": "68594d2b733c9f7ac2422f1f",\n    "created_at": "2025-06-23T12:48:43.031000+00:00",\n    "started_at": null,\n    "completed_at": null,\n    "error_message": null,\n    "metadata": null\n  }\n}\n'})}),"\n",(0,r.jsx)(s.h4,{id:"completed-status",children:"Completed Status"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "status": true,\n  "version": "1.0.24",\n  "data": {\n    "request_id": "8f1fdfde-cecb-4ea9-aeec-502d9c6d68d2",\n    "status": "COMPLETED",\n    "prompt": "Curate me a list of companies building AI agents in book editing / writing sector.",\n    "structured_output": false,\n    "output_schema": null,\n    "conversation_id": "68594d2b733c9f7ac2422f1f",\n    "created_at": "2025-06-23T12:48:43.031000+00:00",\n    "started_at": "2025-06-23T12:49:32.888000+00:00",\n    "completed_at": "2025-06-23T12:49:44.067000+00:00",\n    "error_message": null,\n    "metadata": null\n  }\n}\n'})}),"\n",(0,r.jsx)(s.h4,{id:"failed-status",children:"Failed Status"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "status": true,\n  "version": "1.0.24",\n  "data": {\n    "request_id": "8f1fdfde-cecb-4ea9-aeec-502d9c6d68d2",\n    "status": "FAILED",\n    "prompt": "Curate me a list of companies building AI agents in book editing / writing sector.",\n    "structured_output": false,\n    "output_schema": null,\n    "conversation_id": "68594d2b733c9f7ac2422f1f",\n    "created_at": "2025-06-23T12:48:43.031000+00:00",\n    "started_at": "2025-06-23T12:49:32.888000+00:00",\n    "completed_at": "2025-06-23T12:49:44.067000+00:00",\n    "error_message": "Error adding new message to conversation - Unable to match input value to any allowed input type for the field.",\n    "metadata": null\n  }\n}\n'})}),"\n",(0,r.jsx)(s.h3,{id:"error-responses",children:"Error Responses"}),"\n",(0,r.jsx)(s.h4,{id:"404-not-found",children:"404 Not Found"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "status": false,\n  "version": "1.0.24",\n  "error": {\n    "message": "Request not found",\n    "code": "REQUEST_NOT_FOUND"\n  }\n}\n'})}),"\n",(0,r.jsx)(s.h4,{id:"401-unauthorized",children:"401 Unauthorized"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "status": false,\n  "version": "1.0.24",\n  "error": {\n    "message": "Invalid or expired API key",\n    "code": "INVALID_API_KEY"\n  }\n}\n'})}),"\n",(0,r.jsx)(s.h2,{id:"response-fields",children:"Response Fields"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Field"}),(0,r.jsx)(s.th,{children:"Type"}),(0,r.jsx)(s.th,{children:"Description"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"status"})}),(0,r.jsx)(s.td,{children:"boolean"}),(0,r.jsx)(s.td,{children:"Request success status"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"version"})}),(0,r.jsx)(s.td,{children:"string"}),(0,r.jsx)(s.td,{children:"API version"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"data.request_id"})}),(0,r.jsx)(s.td,{children:"string"}),(0,r.jsx)(s.td,{children:"Unique identifier for the conversation request"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"data.status"})}),(0,r.jsx)(s.td,{children:"string"}),(0,r.jsx)(s.td,{children:"Current status (PENDING, PROCESSING, COMPLETED, FAILED)"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"data.prompt"})}),(0,r.jsx)(s.td,{children:"string"}),(0,r.jsx)(s.td,{children:"Original research prompt"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"data.structured_output"})}),(0,r.jsx)(s.td,{children:"boolean"}),(0,r.jsx)(s.td,{children:"Whether structured output was requested"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"data.output_schema"})}),(0,r.jsx)(s.td,{children:"object"}),(0,r.jsx)(s.td,{children:"JSON schema for structured output (if requested)"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"data.conversation_id"})}),(0,r.jsx)(s.td,{children:"string"}),(0,r.jsx)(s.td,{children:"Internal conversation identifier"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"data.created_at"})}),(0,r.jsx)(s.td,{children:"string"}),(0,r.jsx)(s.td,{children:"Request creation timestamp (ISO 8601)"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"data.started_at"})}),(0,r.jsx)(s.td,{children:"string"}),(0,r.jsx)(s.td,{children:"Processing start timestamp (ISO 8601)"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"data.completed_at"})}),(0,r.jsx)(s.td,{children:"string"}),(0,r.jsx)(s.td,{children:"Completion timestamp (ISO 8601)"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"data.error_message"})}),(0,r.jsx)(s.td,{children:"string"}),(0,r.jsx)(s.td,{children:"Error message if status is FAILED"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"data.metadata"})}),(0,r.jsx)(s.td,{children:"object"}),(0,r.jsx)(s.td,{children:"Additional metadata (if any)"})]})]})]}),"\n",(0,r.jsx)(s.h2,{id:"status-values",children:"Status Values"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"PENDING"}),": Request is queued and waiting to be processed"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"PROCESSING"}),": Research is currently being performed"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"COMPLETED"}),": Research has been completed successfully"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"FAILED"}),": Research failed due to an error"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"polling-strategy",children:"Polling Strategy"}),"\n",(0,r.jsx)(s.p,{children:"For real-time updates, implement a polling strategy:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-javascript",children:"async function pollStatus(requestId, maxAttempts = 60) {\n  let attempts = 0;\n  \n  while (attempts < maxAttempts) {\n    const response = await fetch(`https://api.fay.work/api/v1/conversation/${requestId}/status`, {\n      headers: {\n        'Authorization': 'Bearer YOUR_API_KEY'\n      }\n    });\n    \n    const result = await response.json();\n    \n    if (!result.status) {\n      throw new Error(result.error.message);\n    }\n    \n    const status = result.data.status;\n    \n    if (status === 'COMPLETED') {\n      return result.data;\n    } else if (status === 'FAILED') {\n      throw new Error(result.data.error_message);\n    }\n    \n    // Wait 2 seconds before next poll\n    await new Promise(resolve => setTimeout(resolve, 2000));\n    attempts++;\n  }\n  \n  throw new Error('Timeout waiting for completion');\n}\n\n// Usage\ntry {\n  const result = await pollStatus('e0a05c59-a5d7-44f3-8d5e-9e535e4db957');\n  console.log('Research completed:', result);\n} catch (error) {\n  console.error('Error:', error.message);\n}\n"})}),"\n",(0,r.jsx)(s.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsx)(s.h3,{id:"polling-intervals",children:"Polling Intervals"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"PENDING"}),": Poll every 2-5 seconds"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"PROCESSING"}),": Poll every 2-3 seconds"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"COMPLETED/FAILED"}),": No need to poll further"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"error-handling",children:"Error Handling"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-javascript",children:"const checkStatus = async (requestId) => {\n  try {\n    const response = await fetch(`https://api.fay.work/api/v1/conversation/${requestId}/status`, {\n      headers: {\n        'Authorization': 'Bearer YOUR_API_KEY'\n      }\n    });\n    \n    const result = await response.json();\n    \n    if (!result.status) {\n      throw new Error(result.error.message);\n    }\n    \n    return result.data;\n  } catch (error) {\n    console.error('Status check failed:', error);\n    throw error;\n  }\n};\n"})}),"\n",(0,r.jsx)(s.h2,{id:"rate-limits",children:"Rate Limits"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Free Tier"}),": 100 status checks per hour"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Pro Tier"}),": 1,000 status checks per hour"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Enterprise"}),": Custom limits"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsxs)(s.p,{children:["Once status is ",(0,r.jsx)(s.code,{children:"COMPLETED"}),", you can:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"/docs/apis/get-output",children:"Retrieve the output"})," to get the research results"]}),"\n",(0,r.jsxs)(s.li,{children:["Use the ",(0,r.jsx)(s.code,{children:"conversation_id"})," for future reference"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"related-endpoints",children:"Related Endpoints"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"/docs/apis/create-conversation",children:"Create Conversation"})," - Start a new research request"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"/docs/apis/get-output",children:"Get Output"})," - Retrieve research results"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"/docs/apis/stop-conversation",children:"Stop Conversation"})," - Cancel ongoing research"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>d,x:()=>a});var t=n(6540);const r={},i=t.createContext(r);function d(e){const s=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),t.createElement(i.Provider,{value:s},e.children)}}}]);